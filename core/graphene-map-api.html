<!--
Copyright (c) 2018, Cyber Dyne SRL. All rights reserved.
This code may only be used under the BSD style license found at https://github.com/cyber-dyne/graphene/License.txt
The complete set of authors may be found at https://github.com/cyber-dyne/graphene/Authors.txt
The complete set of contributors may be found at https://github.com/cyber-dyne/graphene/Contributors.txt
-->
<link rel="import" href="graphene-api.html"/>

<script>
    // <![CDATA[
    ;(function (undefined) {
        'use strict'

        Graphene.Map = function Map() {
            const keys = []
            const values = []

            return {
                put(key, value) {
                    const index = keys.indexOf(key)

                    if (index === -1) {
                        keys.push(key)
                        values.push(value)

                        return this
                    }

                    values[index] = value

                    return this
                },

                del(key) {
                    const index = keys.indexOf(key)

                    if (index === -1) {
                        return
                    }

                    const value = values[index]

                    keys.splice(index, 1)
                    values.splice(index, 1)

                    return value
                },

                get(key) {
                    const index = keys.indexOf(key)
                    const value = values[index]

                    return value
                },

                keys() {
                    return keys
                },

                values() {
                    return values
                },

                entries() {
                    return keys.map((it, index) => [ it, values[index] ])
                },
            }
        }
    })()
    // ]]>
</script>
